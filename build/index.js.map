{
  "version": 3,
  "sources": ["../node_modules/node-os-utils/lib/bucket.js", "../node_modules/node-os-utils/lib/cpu.js", "../node_modules/node-os-utils/lib/exec.js", "../node_modules/node-os-utils/lib/drive.js", "../node_modules/node-os-utils/util/co.js", "../node_modules/node-os-utils/util/index.js", "../node_modules/node-os-utils/lib/mem.js", "../node_modules/node-os-utils/lib/netstat.js", "../node_modules/node-os-utils/lib/openfiles.js", "../node_modules/node-os-utils/lib/osCmd.js", "../node_modules/node-os-utils/lib/os.js", "../node_modules/node-os-utils/lib/proc.js", "../node_modules/node-os-utils/lib/users.js", "../node_modules/node-os-utils/index.js", "../src-backend/index.ts", "../src-backend/api.ts", "../src-backend/ext/Room.ts"],
  "sourcesContent": ["/**\n * author       : Sunil Wang\n * createTime   : 2017/7/9 19:24\n * description  :\n */\nmodule.exports = {\n  options: {\n    NOT_SUPPORTED_VALUE: 'not supported',\n    INTERVAL: 1000\n  },\n  isNotSupported(res){\n    return res === this.options.NOT_SUPPORTED_VALUE\n  }\n}\n", "/**\n * author       : Sunil Wang\n * createTime   : 2017/7/9 19:39\n * description  :\n */\nvar bucket = require('./bucket')\nvar os = require('os')\n\nbucket.cpu = {\n  average: function () {\n    var totalIdle = 0\n    var totalTick = 0\n    var cpus = os.cpus()\n\n    for (var i = 0, len = cpus.length; i < len; i++) {\n      var cpu = cpus[i]\n      for (var type in cpu.times) {\n        totalTick += cpu.times[type]\n      }\n      totalIdle += cpu.times.idle\n    }\n\n    return {\n      totalIdle: totalIdle,\n      totalTick: totalTick,\n      avgIdle: (totalIdle / cpus.length),\n      avgTotal: (totalTick / cpus.length)\n    }\n  },\n  usage: function (interval) {\n    var self = this\n\n    if (!interval) {\n      interval = bucket.options.INTERVAL\n    }\n\n    return new Promise(function (resolve) {\n      if (typeof interval !== 'number') {\n        throw new TypeError('interval must be a number!')\n      }\n\n      var startMeasure = self.average()\n\n      setTimeout(function () {\n        var endMeasure = self.average()\n        var idleDifference = endMeasure.avgIdle - startMeasure.avgIdle\n        var totalDifference = endMeasure.avgTotal - startMeasure.avgTotal\n        var cpuPercentage = (10000 - Math.round(10000 * idleDifference / totalDifference)) / 100\n\n        return resolve(cpuPercentage)\n      }, interval)\n    })\n  },\n  free: function (interval) {\n    var self = this\n\n    if (!interval) {\n      interval = bucket.options.INTERVAL\n    }\n\n    return new Promise(function (resolve) {\n      if (typeof interval !== 'number') {\n        throw new TypeError('interval must be a number!')\n      }\n\n      self.usage(interval)\n        .then(function (cpuPercentage) {\n          return resolve(100 - cpuPercentage)\n        })\n    })\n  },\n  count: function () {\n    return os.cpus().length\n  },\n  model: function () {\n    return os.cpus()[0].model\n  },\n  loadavg: function () {\n    return os.loadavg()\n  },\n  loadavgTime: function (time) {\n    time = parseInt(time, 10)\n\n    var loads = os.loadavg()\n\n    switch (time) {\n      case 5:\n        return loads[1]\n      case 15:\n        return loads[2]\n      default: return loads[0]\n    }\n  }\n}\n", "/**\n * author       : Sunil Wang\n * createTime   : 2019/10/25 10:36\n * description  :\n */\nvar cp = require('child_process')\nvar bucket = require('./bucket')\n\nfunction exec(command){\n  return new Promise(function (resolve) {\n    var runCommand = 'LC_ALL=\"en_US.UTF-8\";LANG=\"en_US.UTF-8\";LANGUAGE=\"en_US:en\";' + command\n\n    cp.exec(runCommand, { shell: true }, function (err, stdout, stderr) {\n      if (err || !stdout) {\n        return resolve(bucket.options.NOT_SUPPORTED_VALUE)\n      }\n\n      return resolve(stdout)\n    })\n  })\n}\n\nmodule.exports = exec\nmodule.exports.wrapExec = function(command){\n  return function(){\n    return exec(command)\n  }\n}\n", "/**\n * author       : Sunil Wang\n * createTime   : 2017/7/9 20:17\n * description  :\n */\nvar bucket = require('./bucket')\nvar exec = require('./exec')\nvar DISK_PATTERN = /^(\\S+)\\n?\\s+(\\S+)\\s+(\\S+)\\s+(\\S+)\\s+(\\S+)\\s+(.+?)\\n/mg\n\nfunction createDiskInfo (headlineArgs, args) {\n  var info = {}\n\n  headlineArgs.forEach(function (h, i) {\n    info[h] = args[i]\n  })\n\n  return info\n}\n\nfunction parseDfStdout (stdout) {\n  var dfInfo = []\n  var headline\n\n  stdout.replace(DISK_PATTERN, function () {\n    var args = Array.prototype.slice.call(arguments, 1, 7)\n\n    if (arguments[7] === 0) {\n      headline = args\n      return\n    }\n    dfInfo.push(createDiskInfo(headline, args))\n  })\n\n  return dfInfo\n}\n\nbucket.drive = {\n  info: function (diskName) {\n    if (!diskName) {\n      diskName = '/'\n    }\n\n    return exec('df -kP').then(function (out) {\n      var diskInfo = null\n      var main = null\n      var lines = parseDfStdout(out)\n\n      for (var i = 0; i < lines.length; i++) {\n        if (lines[i]['Mounted on'] === diskName) {\n          diskInfo = lines[i]\n          continue\n        }\n\n        if (lines[i]['Mounted on'] === '/') {\n          main = lines[i]\n          continue\n        }\n      }\n\n      if (diskInfo === null) {\n        if (main === null) {\n          throw new Error('disk name invalid and / not found')\n        }\n\n        console.info('disk name invalid, using / as default')\n        diskInfo = main\n      }\n\n      var used = Math.ceil(diskInfo.Used * 1024 / Math.pow(1024, 2))\n      var free = Math.ceil((diskInfo.Available || diskInfo.Avail) * 1024 / Math.pow(1024, 2))\n      var total = used + free;\n\n      var totalGb = (total / 1024).toFixed(1)\n      var usedGb = (used / 1024).toFixed(1)\n      var freeGb = (free / 1024).toFixed(1)\n\n      var usedPercentage = (100 * used / total).toFixed(1)\n      var freePercentage = (100 * free / total).toFixed(1)\n\n      return Promise.resolve({\n        totalGb: totalGb,\n        usedGb: usedGb,\n        freeGb: freeGb,\n        usedPercentage: usedPercentage,\n        freePercentage: freePercentage\n      })\n    })\n  },\n  free: function (diskName) {\n    var self = this\n\n    return self.info(diskName)\n      .then(function (res) {\n        return Promise.resolve({\n          totalGb: res.totalGb,\n          freeGb: res.freeGb,\n          freePercentage: res.freePercentage\n        })\n      })\n  },\n  used: function (diskName) {\n    var self = this\n\n    return self.info(diskName)\n      .then(function (res) {\n        return Promise.resolve({\n          totalGb: res.totalGb,\n          usedGb: res.usedGb,\n          usedPercentage: res.usedPercentage\n        })\n      })\n  }\n}\n", "\n/**\n * slice() reference.\n */\n\nvar slice = Array.prototype.slice\n\n/**\n * Expose `co`.\n */\n\nmodule.exports = co['default'] = co.co = co\n\n/**\n * Wrap the given generator `fn` into a\n * function that returns a promise.\n * This is a separate function so that\n * every `co()` call doesn't create a new,\n * unnecessary closure.\n *\n * @param {GeneratorFunction} fn\n * @return {Function}\n * @api public\n */\n\nco.wrap = function (fn) {\n  createPromise.__generatorFunction__ = fn\n  return createPromise\n  function createPromise () {\n    return co.call(this, fn.apply(this, arguments))\n  }\n}\n\n/**\n * Execute the generator function or a generator\n * and return a promise.\n *\n * @param {Function} fn\n * @return {Promise}\n * @api public\n */\n\nfunction co (gen) {\n  var ctx = this\n  var args = slice.call(arguments, 1)\n\n  // we wrap everything in a promise to avoid promise chaining,\n  // which leads to memory leak errors.\n  // see https://github.com/tj/co/issues/180\n  return new Promise(function (resolve, reject) {\n    if (typeof gen === 'function') gen = gen.apply(ctx, args)\n    if (!gen || typeof gen.next !== 'function') return resolve(gen)\n\n    onFulfilled()\n\n    /**\n     * @param {Mixed} res\n     * @return {Promise}\n     * @api private\n     */\n\n    function onFulfilled (res) {\n      var ret\n      try {\n        ret = gen.next(res)\n      } catch (e) {\n        return reject(e)\n      }\n      next(ret)\n    }\n\n    /**\n     * @param {Error} err\n     * @return {Promise}\n     * @api private\n     */\n\n    function onRejected (err) {\n      var ret\n      try {\n        ret = gen.throw(err)\n      } catch (e) {\n        return reject(e)\n      }\n      next(ret)\n    }\n\n    /**\n     * Get the next value in the generator,\n     * return a promise.\n     *\n     * @param {Object} ret\n     * @return {Promise}\n     * @api private\n     */\n\n    function next (ret) {\n      if (ret.done) return resolve(ret.value)\n      var value = toPromise.call(ctx, ret.value)\n      if (value && isPromise(value)) return value.then(onFulfilled, onRejected)\n      return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, ' +\n        'but the following object was passed: \"' + String(ret.value) + '\"'))\n    }\n  })\n}\n\n/**\n * Convert a `yield`ed value into a promise.\n *\n * @param {Mixed} obj\n * @return {Promise}\n * @api private\n */\n\nfunction toPromise (obj) {\n  if (!obj) return obj\n  if (isPromise(obj)) return obj\n  if (isGeneratorFunction(obj) || isGenerator(obj)) return co.call(this, obj)\n  if (typeof obj === 'function') return thunkToPromise.call(this, obj)\n  if (Array.isArray(obj)) return arrayToPromise.call(this, obj)\n  if (isObject(obj)) return objectToPromise.call(this, obj)\n  return obj\n}\n\n/**\n * Convert a thunk to a promise.\n *\n * @param {Function}\n * @return {Promise}\n * @api private\n */\n\nfunction thunkToPromise (fn) {\n  var ctx = this\n  return new Promise(function (resolve, reject) {\n    fn.call(ctx, function (err, res) {\n      if (err) return reject(err)\n      if (arguments.length > 2) res = slice.call(arguments, 1)\n      resolve(res)\n    })\n  })\n}\n\n/**\n * Convert an array of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Array} obj\n * @return {Promise}\n * @api private\n */\n\nfunction arrayToPromise (obj) {\n  return Promise.all(obj.map(toPromise, this))\n}\n\n/**\n * Convert an object of \"yieldables\" to a promise.\n * Uses `Promise.all()` internally.\n *\n * @param {Object} obj\n * @return {Promise}\n * @api private\n */\n\nfunction objectToPromise (obj) {\n  var results = new obj.constructor()\n  var keys = Object.keys(obj)\n  var promises = []\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    var promise = toPromise.call(this, obj[key])\n    if (promise && isPromise(promise)) defer(promise, key)\n    else results[key] = obj[key]\n  }\n  return Promise.all(promises).then(function () {\n    return results\n  })\n\n  function defer (promise, key) {\n    // predefine the key in the result\n    results[key] = undefined\n    promises.push(promise.then(function (res) {\n      results[key] = res\n    }))\n  }\n}\n\n/**\n * Check if `obj` is a promise.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isPromise (obj) {\n  return typeof obj.then === 'function'\n}\n\n/**\n * Check if `obj` is a generator.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isGenerator (obj) {\n  return typeof obj.next === 'function' && typeof obj.throw === 'function'\n}\n\n/**\n * Check if `obj` is a generator function.\n *\n * @param {Mixed} obj\n * @return {Boolean}\n * @api private\n */\nfunction isGeneratorFunction (obj) {\n  var constructor = obj.constructor\n  if (!constructor) return false\n  if (constructor.name === 'GeneratorFunction' || constructor.displayName === 'GeneratorFunction') return true\n  return isGenerator(constructor.prototype)\n}\n\n/**\n * Check for plain object.\n *\n * @param {Mixed} val\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject (val) {\n  return Object === val.constructor\n}\n", "/**\n * @Author: \u738B\u6F8D\uFF08SunilWang\uFF09\n * @Date: 2020-06-18 17:11:25\n * @Last Modified by: \u738B\u6F8D\uFF08SunilWang\uFF09\n * @Last Modified time: 2020-06-18 17:11:47\n * @Description:\n */\nexports.isNumber = function(num) {\n  return num !== true && num !== false && Boolean(num === 0 || (num && !isNaN(num)));\n};\n\nrequire('util')\n", "/**\n * @Author: \u738B\u6F8D\uFF08SunilWang\uFF09\n * @Date: 2017-7-9 21:49:00\n * @Last Modified by: \u738B\u6F8D\uFF08SunilWang\uFF09\n * @Last Modified time: 2020-09-10 14:59:41\n * @Description:\n */\nvar bucket = require('./bucket')\nvar os = require('os')\nvar fs = require('fs')\nvar co = require('../util/co')\nvar util = require('../util')\nvar exec = require('./exec')\n\nvar linuxFreeMemory = function () {\n  return new Promise(function (resolve) {\n    // https://github.com/SunilWang/node-os-utils/pull/11\n    // running this on an embedded linux device. This steps takes around 500ms. With this change we brought it down to a few milliseconds.\n    fs.readFile('/proc/meminfo', 'utf8', function (err, out) {\n      if (err) {\n        return resolve(bucket.options.NOT_SUPPORTED_VALUE)\n      }\n      var memInfo = {}\n      var usage = out.toString().trim().split('\\n')\n      usage.forEach((line) => {\n        var pair = line.split(':')\n        memInfo[pair[0]] = parseInt(pair[1], 10)\n      })\n\n      var totalMem = parseInt(memInfo.MemTotal, 10) * 1024\n\n      // check if MemAvailable exists\n      if (!memInfo.MemAvailable) {\n        memInfo.MemAvailable = memInfo['MemFree'] + memInfo['Buffers'] + memInfo['Cached'] + memInfo['SReclaimable'] - memInfo['Shmem'];\n      }\n      var freeMem = memInfo.MemAvailable * 1024\n\n      // https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=34e431b0ae398fc54ea69ff85ec700722c9da773\n      // https://www.cnblogs.com/johnnyzen/p/8011309.html\n      if (os.release() < '3.14') {\n        freeMem =\n          ((memInfo.MemFree || 0) +\n            (memInfo.Buffers || 0) +\n            (memInfo.Cached || 0)) *\n          1024\n      }\n\n      return resolve({ totalMem, freeMem })\n    })\n  })\n}\n\n// learn from: https://github.com/X-Profiler/xtransit/blob/master/orders/system_log.js#L356\nvar osxFreeMemory = co.wrap(function* () {\n  var totalMem = os.totalmem()\n  var mappings = {\n    'Pages purgeable': 'purgeable',\n    'Pages wired down': 'wired',\n    'Pages active': 'active',\n    'Pages inactive': 'inactive',\n    'Pages occupied by compressor': 'compressed',\n  }\n  var [vmStat, pagePageable] = yield Promise.all([\n    exec('vm_stat'),\n    exec('sysctl vm.page_pageable_internal_count'),\n  ])\n\n  vmStat = vmStat.toString().trim()\n  pagePageable = pagePageable.toString().trim()\n\n  // get page size\n  var pageSize = 4096\n  var matchdPageSize = /page size of (\\d+) bytes/.exec(vmStat)\n\n  if (matchdPageSize && util.isNumber(matchdPageSize[1])) {\n    pageSize = Number(matchdPageSize[1])\n  }\n\n  // get page pageable\n  var [, pageableValue] = pagePageable.split(':')\n\n  if (!util.isNumber(pageableValue)) {\n    return {\n      totalMem,\n      freeMem: os.freemem(),\n    }\n  }\n\n  pageableValue = Number(pageableValue) * pageSize\n\n  // get vm stats\n  var lines = vmStat.split('\\n').filter((x) => x !== '')\n  var stats = {}\n\n  lines.forEach((x) => {\n    var parts = x.split(':')\n    var key = parts[0]\n    var val = parts[1].replace('.', '').trim()\n\n    if (mappings[key]) {\n      var ky = mappings[key]\n      stats[ky] = val * pageSize\n    }\n  })\n\n  // get app memory\n  var appMemory = pageableValue - stats.purgeable\n  // get wired memory\n  var wiredMemory = stats.wired\n  // get compressed memory\n  var compressedMemory = stats.compressed\n  var used = appMemory + wiredMemory + compressedMemory\n\n  return {\n    totalMem,\n    freeMem: totalMem - used,\n  }\n})\n\nbucket.mem = {\n  info: co.wrap(function* () {\n    var totalMem = null\n    var freeMem = null\n    var memInfo = yield linuxFreeMemory()\n\n    if (bucket.isNotSupported(memInfo)) {\n      totalMem = os.totalmem()\n      freeMem = os.freemem()\n      if (os.platform() === 'darwin') {\n        var mem = yield osxFreeMemory()\n        totalMem = mem.totalMem\n        freeMem = mem.freeMem\n      }\n    } else {\n      totalMem = memInfo.totalMem\n      freeMem = memInfo.freeMem\n    }\n\n    var totalMemMb = parseFloat((totalMem / 1024 / 1024).toFixed(2))\n    var usedMemMb = parseFloat(((totalMem - freeMem) / 1024 / 1024).toFixed(2))\n    var freeMemMb = parseFloat((totalMemMb - usedMemMb).toFixed(2))\n    var usedMemPercentage = parseFloat((100 * ((totalMem - freeMem) / totalMem)).toFixed(2))\n    var freeMemPercentage = parseFloat((100 * (freeMem / totalMem)).toFixed(2))\n\n    return {\n      totalMemMb: totalMemMb,\n      usedMemMb: usedMemMb,\n      freeMemMb: freeMemMb,\n      usedMemPercentage: usedMemPercentage,\n      freeMemPercentage: freeMemPercentage,\n    }\n  }),\n  free: function () {\n    var self = this\n\n    return self.info().then(function (res) {\n      return Promise.resolve({\n        totalMemMb: res.totalMemMb,\n        freeMemMb: res.freeMemMb,\n      })\n    })\n  },\n  used: function () {\n    var self = this\n\n    return self.info().then(function (res) {\n      return Promise.resolve({\n        totalMemMb: res.totalMemMb,\n        usedMemMb: res.usedMemMb,\n      })\n    })\n  },\n  totalMem: function () {\n    return os.totalmem()\n  },\n}\n", "/**\n * author       : Sunil Wang\n * createTime   : 2017/7/9 22:16\n * description  :\n */\nvar bucket = require('./bucket')\nvar co = require('../util/co')\nvar exec = require('./exec')\n\nvar ifconfig = {\n  breakIntoBlocks: function breakIntoBlocks (fullText) {\n    var blocks = []\n    var lines = fullText.split('\\n')\n    var currentBlock = []\n    lines.forEach(function (line) {\n      if (line.length > 0 && ['\\t', ' '].indexOf(line[0]) === -1 && currentBlock.length > 0) {\n        // start of a new block detected\n        blocks.push(currentBlock)\n        currentBlock = []\n      }\n      if (line.trim()) {\n        currentBlock.push(line)\n      }\n    })\n    if (currentBlock.length > 0) {\n      blocks.push(currentBlock)\n    }\n    return blocks\n  },\n\n  parseSingleBlock: function parseSingleBlock (block) {\n    var data = {}\n    block.forEach(function (line, i) {\n      var match = line.match(/^(\\S+)\\s+Link/)\n      if (i === 0) {\n        var match2 = line.match(/([a-zA-Z0-9]+):\\s/)\n        if (match === null && match2) {\n          match = match2\n        }\n      }\n      if (match) { // eth0      Link encap:Ethernet  HWaddr 04:01:d3:db:fd:01\n        data.device = match[1] // eth0\n        var link = {}\n        match = line.match(/encap:(\\S+)/)\n        if (match) {\n          link.encap = match[1]\n        }\n        match = line.match(/HWaddr\\s+(\\S+)/)\n        if (match) {\n          link.hwaddr = match[1]\n        }\n        data.link = link\n      } else {\n        var section = data.other || {}\n        if ((match = line.match(/collisions:(\\S+)/))) {\n          section.collisions = parseInt(match[1])\n        }\n        if ((match = line.match(/txqueuelen:(\\S+)/))) {\n          section.txqueuelen = parseInt(match[1])\n        }\n        if ((match = line.match(/RX bytes:(\\S+)/))) {\n          section.rxBytes = parseInt(match[1])\n        }\n        if ((match = line.match(/RX packets (\\S+) {2}bytes (\\S+)/))) {\n          section.rxBytes = parseInt(match[2])\n        }\n        if ((match = line.match(/TX bytes:(\\S+)/))) {\n          section.txBytes = parseInt(match[1])\n        }\n        if ((match = line.match(/TX packets (\\S+) {2}bytes (\\S+)/))) {\n          section.txBytes = parseInt(match[2])\n        }\n        data.other = section\n      }\n    })\n    return data\n  }\n}\n\nfunction ifconfigStats () {\n  return co(function * () {\n    var res = yield exec('ifconfig')\n\n    if(bucket.isNotSupported(res)) return res\n\n    var blocks = ifconfig.breakIntoBlocks(res)\n    var stats = []\n\n    blocks.forEach(function (block, index) {\n      blocks[index] = ifconfig.parseSingleBlock(block)\n      stats[index] = {\n        'interface': blocks[index].device,\n        'inputBytes': (blocks[index].other && blocks[index].other.rxBytes) || 0,\n        'outputBytes': (blocks[index].other && blocks[index].other.txBytes) || 0\n      }\n    })\n\n    return stats\n  })\n}\n\nbucket.netstat = {\n  stats: co.wrap(function * () {\n    var out = yield exec('ip -s link')\n\n    if(bucket.isNotSupported(out)) return ifconfigStats()\n\n    var names = new RegExp(/[0-9]+: ([\\S]+): /g)\n    var RX = new RegExp(/^\\s+RX:\\s+bytes\\s+packets\\s+errors\\s+dropped\\s+(overrun|missed)\\s+mcast\\s*\\n\\s*([0-9]+)\\s+/gm)\n    var TX = new RegExp(/^\\s+TX:\\s+bytes\\s+packets\\s+errors\\s+dropped\\s+carrier\\s+collsns\\s*\\n\\s*([0-9]+)\\s+/gm)\n\n    var stats = []\n    var i = 0\n    var res = []\n\n    while ((res = names.exec(out)) !== null) {\n      stats[i++] = {\n        interface: res[1]\n      }\n    }\n\n    i = 0\n    while ((res = RX.exec(out)) !== null) {\n      stats[i++].inputBytes = res[2]\n    }\n\n    i = 0\n    while ((res = TX.exec(out)) !== null) {\n      stats[i++].outputBytes = res[1]\n    }\n\n    return stats\n  }),\n  inOut: function (interval) {\n    var self = this\n\n    if (!interval) {\n      interval = bucket.options.INTERVAL\n    }\n\n    return Promise.all([\n      self.stats(),\n      (function () {\n        return new Promise(function (resolve) {\n          setTimeout(function () {\n            self.stats().then(resolve)\n          }, interval)\n        })\n      })()\n    ]).then(function (stats) {\n      var oldStats = stats[0]\n      var newStats = stats[1]\n\n      var metrics = {\n        total: {\n          inputMb: 0,\n          outputMb: 0\n        }\n      }\n      var nbProblems = 0\n\n      for (var i = 0; i < oldStats.length; i++) {\n        if (oldStats[i].interface !== 'lo' && oldStats[i].interface !== 'lo0' && oldStats[i].inputBytes > 0 && oldStats[i].outputBytes > 0) {\n          metrics[oldStats[i].interface] = {}\n          metrics[oldStats[i].interface]['inputMb'] = parseFloat(((newStats[i].inputBytes - oldStats[i].inputBytes) / 1000000).toFixed(2))\n          metrics[oldStats[i].interface]['outputMb'] = parseFloat(((newStats[i].outputBytes - oldStats[i].outputBytes) / 1000000).toFixed(2))\n\n          metrics.total['inputMb'] += parseFloat(metrics[oldStats[i].interface]['inputMb'])\n          metrics.total['outputMb'] += parseFloat(metrics[oldStats[i].interface]['outputMb'])\n        } else {\n          nbProblems++\n        }\n      }\n\n      if (nbProblems === oldStats.length) {\n        return Promise.resolve(bucket.options.NOT_SUPPORTED_VALUE)\n      }\n\n      return Promise.resolve(metrics)\n    })\n  }\n}\n", "/**\n * author       : Sunil Wang\n * createTime   : 2017/7/10 10:26\n * description  :\n */\nvar bucket = require('./bucket')\nvar fs = require('fs')\n\nbucket.openfiles = {\n  openFd: function () {\n    return new Promise(function (resolve) {\n      fs.readFile('/proc/sys/fs/file-nr', function (err, out) {\n        if (err) {\n          return resolve(bucket.options.NOT_SUPPORTED_VALUE)\n        }\n\n        var result = out.toString().replace(/\\n/g, '').split(' ')[0]\n\n        result = parseInt(result, 10)\n\n        return resolve(result)\n      })\n    })\n  }\n}\n", "/**\n * author       : Sunil Wang\n * createTime   : 2017/7/9 19:08\n * description  :\n */\nvar bucket = require('./bucket')\nvar exec = require('./exec')\nvar wrapExec = exec.wrapExec\n\nbucket.osCmd = {\n  topCpu: wrapExec('ps -eo pcpu,user,args --no-headers | sort -k 1 -n | tail -n 10 | sort -k 1 -nr | cut -c 1-70'),\n  topMem: wrapExec('ps -eo pmem,pid,cmd | sort -k 1 -n | tail -n 10 | sort -k 1 -nr | cut -c 1-70'),\n  vmstats: wrapExec('vmstat -S m'),\n  processesUsers: wrapExec('ps hax -o user | sort | uniq -c'),\n  diskUsage: wrapExec('df -h'),\n  who: wrapExec('who'),\n  whoami: wrapExec('whoami'),\n  openPorts: wrapExec('lsof -Pni4 | grep ESTABLISHED'),\n  ifconfig: wrapExec('ifconfig')\n}\n", "/**\n * author       : Sunil Wang\n * createTime   : 2017/7/10 10:36\n * description  :\n */\nvar bucket = require('./bucket')\nvar fs = require('fs')\nvar os = require('os')\nvar co = require('../util/co')\nvar exec = require('./exec')\n\nvar originalOperatingSystem = {\n  checkLastResort: co.wrap(function * (){\n    return exec('uname -sr')\n  }),\n  darwin: function () {\n    var self = this\n\n    return co(function * (){\n      var res = yield exec('sw_vers')\n\n      if(bucket.isNotSupported(res)) return self.checkLastResort()\n\n      var version = res.match(/[\\n\\r].*ProductVersion:\\s*([^\\n\\r]*)/)[1]\n      var distribution = res.match(/.*ProductName:\\s*([^\\n\\r]*)/)[1]\n\n      return distribution + ' ' + version\n    })\n  },\n  linux: function () {\n    var self = this\n\n    // Debian, Ubuntu, CentOS\n    return new Promise(function (resolve) {\n      fs.readFile('/etc/issue', function (err, out) {\n        if (err) {\n          return self.checkLastResort(resolve)\n        }\n        out = out.toString()\n        var version = out.match(/[\\d]+(\\.[\\d][\\d]?)?/)\n\n        if (version !== null) {\n          version = version[0]\n        }\n        var distribution = out.match(/[\\w]*/)[0]\n\n        if (version !== null && distribution !== null) {\n          var resultOs = distribution + ' ' + version\n          return resolve(resultOs)\n        } else if (distribution !== null && distribution !== '') {\n          return resolve(distribution)\n        } else if (version === null) {\n          fs.readFile('/etc/redhat-release', function (err, out) {\n            if (err) {\n              return self.checkLastResort(resolve)\n            }\n\n            out = out.toString()\n            version = out.match(/[\\d]+(\\.[\\d][\\d]?)?/)\n\n            if (version !== null) {\n              version = version[0]\n            }\n\n            var resultOs = 'Red Hat ' + version\n            return resolve(resultOs)\n          })\n        }\n      })\n    })\n  }\n}\n\nbucket.os = {\n  oos: function () {\n    var platform = os.platform()\n\n    if (platform === 'linux') {\n      return originalOperatingSystem.linux()\n    }\n\n    if (platform === 'darwin') {\n      return originalOperatingSystem.darwin()\n    }\n\n    return originalOperatingSystem.checkLastResort()\n  },\n  platform: function () {\n    return os.platform()\n  },\n  uptime: function () {\n    // seconds\n    return os.uptime()\n  },\n  ip: function () {\n    var platform = os.platform()\n    var interfaces = os.networkInterfaces()\n    var ip = ''\n    var i = 0\n    try {\n\n      if (platform === 'linux' && interfaces.eth0) {\n        for (i = 0; i < interfaces.eth0.length; i++) {\n          if (os.networkInterfaces().eth0[i].family === 'IPv4') {\n            ip = os.networkInterfaces().eth0[i].address\n            break\n          }\n        }\n\n        return ip\n      }\n\n      if (platform === 'darwin') {\n        for (i = 0; i < interfaces.en0.length; i++) {\n          if (os.networkInterfaces().en0[i].family === 'IPv4') {\n            ip = os.networkInterfaces().en0[i].address\n            break\n          }\n        }\n\n        return ip\n      }\n\n      for (i in interfaces) {\n        var item = interfaces[i]\n        for (var j in item) {\n          if (item[j]['internal'] === false && item[j]['family'] === 'IPv4') {\n            ip = item[j]['address']\n            break\n          }\n        }\n      }\n    } catch (error){\n      ip = 'LOCALHOST'\n    }\n\n    return ip\n  },\n  hostname: function () {\n    return os.hostname()\n  },\n  type: function () {\n    return os.type()\n  },\n  arch: function () {\n    return os.arch()\n  }\n}\n", "/**\n * author       : Sunil Wang\n * createTime   : 2017/7/10 14:31\n * description  :\n */\nvar bucket = require('./bucket')\nvar exec = require('./exec')\nvar os = require('os')\nvar co = require('../util/co')\n\nbucket.proc = {\n  totalProcesses: co.wrap(function * () {\n    var res = yield exec(\"top -bn1 | awk 'NR > 7 && $8 ~ /R|S|D|T/ { print $12 }'\")\n\n    if(bucket.isNotSupported(res)){\n      if (os.platform() === 'darwin') {\n        var nb = yield exec('ps -A')\n\n        nb = nb.toString().split('\\n')\n\n        return nb.length - 1\n      }\n\n      return res\n    }\n\n    var resultProc = (res.split('\\n')).length\n\n    return resultProc\n  }),\n  zombieProcesses: co.wrap(function * () {\n    var res = yield exec(\"top -bn1 | awk 'NR > 7 && $8 ~ /Z/ { print $12 }'\")\n\n    if(bucket.isNotSupported(res)) return res\n\n    return (res.split('\\n')).length\n  })\n}\n", "/**\n * author       : Sunil Wang\n * createTime   : 2017/7/10 10:17\n * description  :\n */\nvar bucket = require('./bucket')\nvar exec = require('./exec')\nvar co = require('../util/co')\n\nbucket.users = {\n  openedCount: co.wrap(function * () {\n    var res = yield exec('who | grep -v localhost | wc -l')\n\n    if(bucket.isNotSupported(res)) return res\n\n    return parseInt(res, 10)\n  })\n}\n", "/**\n * author       : Sunil Wang\n * createTime   : 2017/7/9 18:29\n * description  :\n */\n\nrequire('./lib/cpu')\nrequire('./lib/drive')\nrequire('./lib/mem')\nrequire('./lib/netstat')\nrequire('./lib/openfiles')\nrequire('./lib/osCmd')\nrequire('./lib/os')\nrequire('./lib/proc')\nrequire('./lib/users')\n\nmodule.exports = require('./lib/bucket')\n", "import express from 'express';\nimport path from 'path';\n\n// required for ESM support. (esbuild uses it)\nimport { fileURLToPath } from 'url';\n\nimport { getAPI } from './api.js';\nimport './ext/Room.js';\n\nconst frontendDirectory = path.resolve(__dirname, \"..\", \"build\", \"static\");\n\nexport interface MonitorOptions {\n    columns: Array<\n        'roomId' |\n        'name' |\n        'clients' |\n        'maxClients' |\n        'locked' |\n        'elapsedTime' |\n        { metadata: string } |\n        'processId' |\n        \"publicAddress\"\n    >,\n    matchMaker: any\n}\n\n/**\n * TODO: expose the `router` instead on next major version.\n */\nexport function monitor (opts: Partial<MonitorOptions> = {}): express.Router {\n    const router = express.Router();\n    router.use(express.static(frontendDirectory));\n    router.use('/api', getAPI(opts, opts.matchMaker));\n    return router;\n}\n", "import express from 'express';\nimport osUtils from 'node-os-utils';\n\nimport type { MonitorOptions } from './index.js';\n\nconst UNAVAILABLE_ROOM_ERROR = \"@colyseus/monitor: room $roomId is not available anymore.\";\n\nexport function getAPI (opts: Partial<MonitorOptions>, matchMakerInstance?: any) {\n    const api = express.Router();\n\n    api.get(\"/\", async (req: express.Request, res: express.Response) => {\n        try {\n            if (!matchMakerInstance) {\n                throw new Error(\"matchMaker not provided to monitor\");\n            }\n            const rooms: any[] = await matchMakerInstance.query({});\n            const columns = opts.columns || ['roomId', 'name', 'clients', 'maxClients', 'locked', 'elapsedTime'];\n\n            // extend columns to expose \"publicAddress\", if present\n            if (!opts.columns && rooms[0] && rooms[0].publicAddress !== undefined) {\n                columns.push(\"publicAddress\");\n            }\n\n            let connections: number = 0;\n\n            res.json({\n                columns,\n                rooms: rooms.map(room => {\n                    const data = JSON.parse(JSON.stringify(room));\n\n                    connections += room.clients;\n\n                    // additional data\n                    data.locked = room.locked || false;\n                    data.private = room.private;\n\n                    data.maxClients = `${room.maxClients}`;\n\n                    data.elapsedTime = Date.now() - new Date(room.createdAt).getTime();\n                    return data;\n                }),\n\n                connections,\n                cpu: await osUtils.cpu.usage(),\n                memory: await osUtils.mem.used()\n            });\n        } catch (e) {\n            const message = e.message;\n            console.error(message);\n            res.status(500);\n            res.json({ message });\n        }\n    });\n\n    api.get(\"/room\", async (req: express.Request, res: express.Response) => {\n        const roomId = req.query.roomId as string;\n        try {\n            if (!matchMakerInstance) {\n                throw new Error(\"matchMaker not provided to monitor\");\n            }\n            const inspectData = await matchMakerInstance.remoteRoomCall(roomId, \"getInspectData\");\n            res.json(inspectData);\n        } catch (e) {\n            const message = UNAVAILABLE_ROOM_ERROR.replace(\"$roomId\", roomId);\n            console.error(message);\n            res.status(500);\n            res.json({ message });\n        }\n    });\n\n    api.get(\"/room/call\", async (req: express.Request, res: express.Response) => {\n        const roomId = req.query.roomId as string;\n        const method = req.query.method as string;\n        const args = JSON.parse(req.query.args as string);\n\n        try {\n            if (!matchMakerInstance) {\n                throw new Error(\"matchMaker not provided to monitor\");\n            }\n            const data = await matchMakerInstance.remoteRoomCall(roomId, method, args);\n            res.json(data);\n        } catch (e) {\n            const message = UNAVAILABLE_ROOM_ERROR.replace(\"$roomId\", roomId);\n            console.error(message);\n            res.status(500);\n            res.json({ message });\n        }\n    });\n\n    return api;\n}\n", "//\r\n// Monkey-patch Colyseus' default behaviour\r\n//\r\nimport { Room, Client, ClientPrivate } from \"@bizsim-game-studios/colyseus-core\";\r\n\r\nfunction getStateSize(room) {\r\n    // TODO: `Serializer<T>` should provide a method for this (e.g. `serializer.hasState()`)\r\n    const hasState = (\r\n      room._serializer.encoder || // schema v3\r\n      room._serializer.state || // schema v2\r\n      room._serializer.previousState // legacy-fossil-delta\r\n    );\r\n    const fullState = hasState && room._serializer.getFullState();\r\n    return fullState && (fullState.byteLength || fullState.length) || 0;\r\n}\r\n\r\n(<any>Room.prototype).getAvailableData = function () {\r\n    return {\r\n        clients: this.clients.length,\r\n        maxClients: this.maxClients,\r\n        metadata: this.metadata,\r\n        roomId: this.roomId,\r\n    };\r\n};\r\n\r\n(<any>Room.prototype).getRoomListData = async function () {\r\n    const stateSize = getStateSize(this);\r\n    const elapsedTime = this.clock.elapsedTime;\r\n    const locked = this.locked;\r\n    const data = this.getAvailableData();\r\n\r\n    return { ...data, locked, elapsedTime, stateSize };\r\n};\r\n\r\n(<any>Room.prototype).getInspectData = async function () {\r\n    const state = this.state;\r\n    const stateSize = getStateSize(this);\r\n    const roomElapsedTime = this.clock.elapsedTime;\r\n\r\n    const data = this.getAvailableData();\r\n    const clients = this.clients.map((client: Client & ClientPrivate) => ({\r\n        sessionId: client.sessionId,\r\n        elapsedTime: roomElapsedTime - client._joinedAt\r\n    }));\r\n    const locked = this.locked;\r\n\r\n    return { ...data, locked, clients, state, stateSize };\r\n};\r\n\r\n// Actions\r\n(<any>Room.prototype)._forceClientDisconnect = async function (sessionId) {\r\n    for (let i = 0; i < this.clients.length; i++) {\r\n        if (this.clients[i].sessionId === sessionId) {\r\n            this.clients[i].leave();\r\n            break;\r\n        }\r\n    }\r\n};\r\n\r\n(<any>Room.prototype)._sendMessageToClient = async function (sessionId, type, data) {\r\n    for (let i = 0; i < this.clients.length; i++) {\r\n        if (this.clients[i].sessionId === sessionId) {\r\n            this.clients[i].send(type, data);\r\n            break;\r\n        }\r\n    }\r\n};\r\n"],
  "mappings": "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",
  "names": ["exports", "module", "exports", "module", "exports", "module", "promise", "key", "exports", "err", "out", "resultOs", "exports", "module", "import_express", "express", "osUtils", "path", "express"]
}
